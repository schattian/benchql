servers:

- name: Ruby:Rails
  endpoint: http://localhost:3000/graphql
  run:
    command: rails s
    cwd: servers/ruby/
    startupTime: 7s
  warmup:
    concurrency: 10
    duration: 5s

- name: Python:Japronto 
  endpoint: http://localhost:8080/graphql
  run:
    command: python3 app.py
    cwd: servers/japronto-graphene/
    startupTime: 5s
  warmup:
    concurrency: 10
    duration: 5s

- name: Ruby:Rack
  endpoint: http://localhost:9292/graphql
  run:
    command: rackup app.ru 
    cwd: servers/rack/
    startupTime: 5s
  warmup:
    concurrency: 10
    duration: 5s

- name: Go:Native
  endpoint: http://localhost:9090/query
  run:
    command: go run schema.go server.go
    cwd: servers/go/
    startupTime: 28s
  warmup:
    concurrency: 10
    duration: 5s

queries:
   - name: Basic
     filename: queries/basic.graphql
     expectedResultFilename: queries/basic.json
    
   - name: Object List
     filename: queries/object_list.graphql
     expectedResultFilename: queries/object_list.json

  #- name: Scalar List
  #filename: queries/scalar_list.graphql
  #expectedResultFilename: queries/scalar_list.json

  #- name: Introspection
  #filename: queries/introspection.graphql
  # expectedResultFilename: queries/scalar_list.json
